<!DOCTYPE html>
<html>
	<head>
		<script src="jquery-2.1.3.js"></script>
		<style type="text/css">
			#myCanvas {left: 500px; top:500px;}
		</style>
		<title>Canvas Basics</title>
	</head>
	<body>
			<canvas id="myCanvas" width="500" height="500"></canvas>
	</body>
</html>

<script>
	var canvas;
	var context;
    var blueCount = 0;
    var redCount = 0;
    canvas = document.getElementById('myCanvas');
    context = canvas.getContext('2d');
    var end = canvas.width;

    function randNum(max) {
         return Math.ceil(Math.random()*max) + 1;
     }

    function redCar (color, yAxis) {
        redCount++;
        if (redCount <= end) {
            var num = randNum (20);
            boxMove(color, redCount, yAxis);
            console.log(redCount, num);
            setTimeout(redCar(color, yAxis), randNum(5)*100);
        }

    }
    function blueCar (color, yAxis) {
        blueCount++;
        if (blueCount <= end) {
            var num = randNum (20);
            boxMove(color, blueCount, yAxis);
            console.log(blueCount, num, yAxis);
            setTimeout(blueCar(color, yAxis), randNum(5)*100);
        }

    }
    function boxMove (color, count, y){
	    context.fillStyle=color;
	    context.fillRect(count,y,2,2);
        context.clearRect(count-5,y,2,2);
	}
	 
$(document).ready(function(){

    blueCar ("blue", 10);
    redCar ("red", 20);
	var move = 10;


	context.fillStyle="red";

	context.fillRect (40, 40, 100, 100);
	context.clearRect(30,20,100,50);
	context.beginPath(); // start the path
	context.moveTo (40, 40); //set path origin
	context.lineTo (340, 40); // destination
	context.closePath (); // close path 
	context.stroke (); // Outline  the path
});
</script>

